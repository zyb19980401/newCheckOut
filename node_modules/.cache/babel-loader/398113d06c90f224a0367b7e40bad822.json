{"ast":null,"code":"var _jsxFileName = \"/Users/chriszhang/Desktop/CheckOutPage/CheckOutPage/checkout/src/FrontPage/LeftMenu/PreLoadRequest.js\";\nimport React, { PureComponent } from 'react';\nlet temp = \"\";\nlet textValue = {\n  \"store_id\": \"store2\",\n  \"api_token\": \"yesguy\",\n  \"checkout_id\": \"chktD3MM4tore2\",\n  \"txn_total\": \"2.00\",\n  \"environment\": \"qa\",\n  \"action\": \"preload\"\n};\n\nfunction showObject(data) {\n  var result = \"\";\n\n  for (var p in data) {\n    result += p + \" , \" + data[p] + \"\\n\";\n  }\n\n  console.log(result);\n}\n\nfunction returnDataFormatted(data) {\n  var x;\n  var dataFormatted = '';\n  var count = '';\n\n  for (x of data) {\n    if (x == '{') {\n      count += '&emsp;&emsp;';\n      dataFormatted += '{<br />' + count;\n    } else if (x == ',') {\n      dataFormatted += ',<br />' + count;\n    } else if (x == '}') {\n      count = count.substring(0, count.length - 12);\n      dataFormatted += '<br />' + count + '}';\n    } else {\n      dataFormatted += x;\n    }\n  }\n\n  return dataFormatted;\n}\n\nexport default class PreLoadRequest extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.textValue = {\n      \"store_id\": \"TBD\",\n      \"api_token\": \"TBD\",\n      \"checkout_id\": \"TBD\",\n      \"txn_total\": \"2.00\",\n      \"environment\": \"qa\",\n      \"action\": \"preload\"\n    };\n    this.testValue = {\n      \"store_id\": \"store2\",\n      \"api_token\": \"yesguy\",\n      \"checkout_id\": \"chktD3MM4tore2\",\n      \"txn_total\": \"2.00\",\n      \"environment\": \"qa\",\n      \"action\": \"preload\"\n    };\n    this.state = {\n      isToggleOn: true,\n      response: ''\n    }; // This binding is necessary to make `this` work in the callback\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState(state => ({\n      isToggleOn: !state.isToggleOn\n    }));\n  }\n\n  testFunction() {\n    fetch('https://gatewayt.moneris.com/chkt/request/request.php', {\n      method: \"POST\",\n      body: JSON.stringify(this.testValue),\n      headers: {\n        \"Content-Type\": \"'application/x-www-form-urlencoded'\"\n      }\n    }).then(res => {\n      console.log(res);\n\n      if (res.status === 400) {\n        return Promise.reject(\"Bad Request\");\n      } else if (res.status === 500) {\n        return Promise.reject(\"Server Internal Error\");\n      } else if (res.status === 404) {\n        return Promise.reject(\"Not found\");\n      } else {\n        return res.json();\n      }\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  componentDidMount() {\n    var request = new XMLHttpRequest();\n    let temp = 'false';\n    request.open('POST', 'https://gatewayt.moneris.com/chkt/request/request.php');\n    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n    request.onreadystatechange = () => {\n      // Begin accessing JSON data here\n      try {\n        console.log(\"fkkk1\");\n        console.log(request.responseText);\n        console.log(request.response);\n        var data = JSON.parse(request.response);\n        temp = data;\n        console.log(temp);\n        console.log(\"wtf\");\n        console.log(temp);\n        this.setState({\n          response: \"false\"\n        });\n      } catch (err) {\n        console.log(err); // if (request.readyState == 4) {\n        //     errorModal.style.display = \"block\";\n        // }\n      }\n    };\n\n    request.send(JSON.stringify(this.testValue));\n    console.log(JSON.stringify(this.testValue));\n    console.log(request.responseText);\n    console.log(\"fkkk4\");\n    this.setState({\n      response: temp\n    });\n  }\n\n  render() {\n    this.textValue.store_id = this.props.StoreId;\n    this.textValue.api_token = this.props.ApiToken;\n    this.textValue.checkout_id = this.props.CheckOutId;\n    console.log(this.textValue);\n    console.log(\"motherfker\");\n    console.log(this.state);\n\n    if (this.props.ifShow != 3) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        class: \"accordion\",\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 78\n        }\n      }, \"\\u2462\\xA0\\xA0\"), \"PreLoadRequest\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, \"The Preload request is the means by which a Moneris Checkout instance is securely generated at transaction time. It involves a server-to-server post using the JSON format.\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 200\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 209\n        }\n      }), \"The response to the Preload request returns a ticket number which uniquely identifies the instance and must be passed in the JavaScript \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 165\n        }\n      }, \"monerisCheckout.startCheckout(ticket #)\"), \" request in order to display the Moneris Checkout page in the browser.\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 281\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 290\n        }\n      }), \"In your server implementation, use the following Moneris Checkout URLs to post to, depending on the development stage:\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 147\n        }\n      }), \"Testing: \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 38\n        }\n      }, \"https://gatewayt.moneris.com/chkt/request/request.php\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 98\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 107\n        }\n      }), \"Production: \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 41\n        }\n      }, \"https://gateway.moneris.com/chkt/request/request.php\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 100\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 109\n        }\n      }), /*#__PURE__*/React.createElement(\"textarea\", {\n        id: \"preloadRequestCode\",\n        value: JSON.stringify(this.textValue, null, 2),\n        rows: \"9\",\n        cols: \"50\",\n        spellcheck: \"false\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        class: \"btn\",\n        onclick: this.testFunction(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }\n      }, \"Make Preload Request\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 38\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"morePreload\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 33\n        }\n      }, \"Request fields for Preload request \\u2013 Required\"), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"tablePreloadRequest\",\n        style: {\n          fontSize: \"12px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 33\n        }\n      }, \"#\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 42\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        class: \"more\",\n        id: \"btnMoreLessPreload\",\n        onclick: \"readMoreLess('morePreload', 'btnMoreLessPreload')\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }\n      }, \"Read more\"))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/chriszhang/Desktop/CheckOutPage/CheckOutPage/checkout/src/FrontPage/LeftMenu/PreLoadRequest.js"],"names":["React","PureComponent","temp","textValue","showObject","data","result","p","console","log","returnDataFormatted","x","dataFormatted","count","substring","length","PreLoadRequest","constructor","props","testValue","state","isToggleOn","response","handleClick","bind","setState","testFunction","fetch","method","body","JSON","stringify","headers","then","res","status","Promise","reject","json","catch","err","alert","componentDidMount","request","XMLHttpRequest","open","setRequestHeader","onreadystatechange","responseText","parse","send","render","store_id","StoreId","api_token","ApiToken","checkout_id","CheckOutId","ifShow","fontSize"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nlet temp = \"\"\nlet textValue = {\n    \"store_id\": \"store2\",\n    \"api_token\": \"yesguy\",\n    \"checkout_id\": \"chktD3MM4tore2\",\n    \"txn_total\": \"2.00\",\n    \"environment\": \"qa\",\n    \"action\": \"preload\"\n};\nfunction showObject(data) {\n    var result = \"\";\n    for (var p in data) {\n        result += p + \" , \" + data[p] + \"\\n\";\n    }\n    console.log(result);\n}\n\nfunction returnDataFormatted(data) {\n    var x;\n    var dataFormatted = '';\n    var count = '';\n\n    for (x of data) {\n        if (x == '{') {\n            count += '&emsp;&emsp;';\n            dataFormatted += '{<br />' + count;\n        } else if (x == ',') {\n            dataFormatted += ',<br />' + count;\n        } else if (x == '}') {\n            count = count.substring(0, count.length - 12);\n            dataFormatted += '<br />' + count + '}';\n        } else {\n            dataFormatted += x;\n        }\n    }\n\n    return dataFormatted;\n}\nexport default class PreLoadRequest extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.textValue = {\n            \"store_id\": \"TBD\",\n            \"api_token\": \"TBD\",\n            \"checkout_id\": \"TBD\",\n            \"txn_total\": \"2.00\",\n            \"environment\": \"qa\",\n            \"action\": \"preload\"\n        };\n\n        this.testValue = {\n            \"store_id\": \"store2\",\n            \"api_token\": \"yesguy\",\n            \"checkout_id\": \"chktD3MM4tore2\",\n            \"txn_total\": \"2.00\",\n            \"environment\": \"qa\",\n            \"action\": \"preload\"\n        }\n\n\n        this.state = { isToggleOn: true , response:''};\n\n        // This binding is necessary to make `this` work in the callback\n        this.handleClick = this.handleClick.bind(this);\n\n\n    }\n\n    handleClick() {\n        this.setState(state => ({\n            isToggleOn: !state.isToggleOn\n        }));\n    }\n\n    testFunction() {\n        fetch('https://gatewayt.moneris.com/chkt/request/request.php', {\n            method: \"POST\",\n            body: JSON.stringify(this.testValue),\n            headers: {\n                \"Content-Type\": \"'application/x-www-form-urlencoded'\"\n            }\n        })\n\n            .then(res => {\n                console.log(res)\n                if (res.status === 400) {\n                    return Promise.reject(\"Bad Request\");\n                } else if (res.status === 500) {\n                    return Promise.reject(\"Server Internal Error\");\n                } else if (res.status === 404) {\n                    return Promise.reject(\"Not found\");\n                } else {\n                    return res.json();\n                }\n            })\n            .catch(err => {\n                alert(err);\n            });\n    };\n\n\n     \n    \n\n    componentDidMount() {\n        var request = new XMLHttpRequest()\n        let temp = 'false';\n        request.open('POST', 'https://gatewayt.moneris.com/chkt/request/request.php')\n        request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        request.onreadystatechange =  () => {\n            // Begin accessing JSON data here\n            try {\n                console.log(\"fkkk1\")\n                console.log(request.responseText)\n                console.log(request.response)\n                var data = JSON.parse(request.response)\n                temp = data;\n                console.log(temp)\n                console.log(\"wtf\")\n                console.log(temp)\n                this.setState({\n                    response:\"false\"\n                })\n            } catch (err) {\n                console.log(err)\n                // if (request.readyState == 4) {\n                //     errorModal.style.display = \"block\";\n                // }\n            }\n        }\n\n        request.send(JSON.stringify(this.testValue))\n        console.log(JSON.stringify(this.testValue))\n        console.log(request.responseText)\n        console.log(\"fkkk4\")\n        this.setState( {response:temp});\n    }\n\n    render() {\n        this.textValue.store_id = this.props.StoreId;\n        this.textValue.api_token = this.props.ApiToken;\n        this.textValue.checkout_id = this.props.CheckOutId;\n        console.log(this.textValue)\n        console.log(\"motherfker\")\n        console.log(this.state)\n        if (this.props.ifShow!= 3) {\n            return (\n                <div>\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <div>\n                        <button class=\"accordion\" onClick={this.handleClick}><span class=\"number\">&#9314;&nbsp;&nbsp;</span>PreLoadRequest</button>\n                    </div>\n                    <div class=\"panel\">\n                        <p>\n                            The Preload request is the means by which a Moneris Checkout instance is securely generated at transaction time. It involves a server-to-server post using the JSON format.<br></br><br></br>\n                            The response to the Preload request returns a ticket number which uniquely identifies the instance and must be passed in the JavaScript <b>monerisCheckout.startCheckout(ticket #)</b> request in order to display the Moneris Checkout page in the browser.<br></br><br></br>\n                            In your server implementation, use the following Moneris Checkout URLs to post to, depending on the development stage:<br></br>\n                            Testing: <b>https://gatewayt.moneris.com/chkt/request/request.php</b><br></br><br></br>\n                            Production: <b>https://gateway.moneris.com/chkt/request/request.php</b><br></br><br></br>\n                            <textarea id=\"preloadRequestCode\" value={JSON.stringify(this.textValue, null, 2)} rows=\"9\" cols=\"50\" spellcheck=\"false\">\n                            </textarea>\n                            <button class=\"btn\" onclick={this.testFunction()}>Make Preload Request</button>\n                            <br></br><br></br>\n                            <div id=\"morePreload\">\n                                <h3>Request fields for Preload request &ndash; Required</h3>\n                                <div id=\"tablePreloadRequest\" style={{ fontSize: \"12px\" }}>#</div>\n                                <br></br><br></br>\n                            </div>\n                            <button class=\"more\" id=\"btnMoreLessPreload\" onclick=\"readMoreLess('morePreload', 'btnMoreLessPreload')\">Read more</button>\n                        </p>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}